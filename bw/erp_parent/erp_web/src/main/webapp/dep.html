<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>部门管理</title>
<link rel="stylesheet" href="ui/themes/default/easyui.css" />
<link rel="stylesheet" href="ui/themes/icon.css" />
<script src="ui/jquery.min.js"></script>
<script src="ui/jquery.easyui.min.js"></script>
<script src="ui/locale/easyui-lang-zh_CN.js"></script>
<script src="ui/jquery.serializejson.min.js"></script>
<script type="text/javascript">
	$(function(){
		$('#grid').datagrid({
			url:"depAction_getListByPage",
			columns:[[
				{field:'uuid',title:'部门编号',width:100},
				{field:'name',title:'部门名称',width:100},
				{field:'tele',title:'部门联系电话',width:100,align:'right'},
				{field:'-',title:'操作',formatter:function(value,row,index){
					var opr = "<a href='javascript:void(0)' onclick='edit('" + row.uuid + ')>修改</a>';
					opr += " <a href='javascript:void(0)' onclick='delete('" + row.uuid + ')>删除</a>';
					return opr;
				}}
			]],
			singletSelect:true,
			pagination: true
		});	
		$("#btnSearch").bind("click",function(){
			//把表单数据转换成JSON对象
			var formData = $("#searchForm").serializeJSON();
			//把JSON对象转换成字符串
			//alert(JSON.stringify(formData));
			
			$("#grid").datagrid("load",formData);
			//alert(JSON.stringify($("#grid").datagrid("getData")));
			/* $.ajax({
				url: 'depAction_getList',
				data: formData,
				dataType: 'json',
				type: 'post',
				success:function(rtn){
					$("#grid").datagrid("loadData",rtn);
				}
			}); */
		});
	});
	
	
	
</script>
</head>
<body>
	<div class="easyui-panel" style="padding-left: 4px;border-bottom: 2px;"></div>
	<div style="height: 2px;"></div>
	<form id="searchForm">
		<table>
			<tr>
				<td>
					部门名称：
				</td>
				<td>
					<input type="text" name="dep1.name" />
				</td>
			</tr>
			<tr>
				<td>
					部门联系电话：
				</td>
				<td>
					<input type="text" name="dep1.tele" />
				</td>
			</tr>
		</table>
		<button id="btnSearch" type="button">查询</button>
	</form>
	<table id="grid"></table>
</body>
</html>